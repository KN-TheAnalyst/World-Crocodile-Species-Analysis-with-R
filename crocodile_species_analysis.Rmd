---
title: "World Crocodile Species_final"
author: "Karigirwa Narcisse | The Analyst"
date: "2025-10-14"
output: html_document
---
<img src="croco_image.png" 
     width="800" 
     style="display: block; margin-left: auto; margin-right: auto;" />

## Introduction

This report provides an exploratory analysis of the global crocodile species dataset. It includes data loading, summary statistics, and visualizations.

## Overall Insights

- The dataset provides a comprehensive view of species diversity, ecological distribution, and population characteristics of crocodiles.

- Certain species and families dominate observations, indicating either higher abundance or observer focus.

- Quantitative traits such as length and weight align with biological expectations, while temporal and habitat-based patterns reveal ecological and observational trends.

- Observer activity analysis highlights the contribution of a few key individuals in collecting most of the data.
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

##Install necessary packages

```{r}
install.packages(c("tydiverse","janitor","shiny", "flexdashboard", "shinydashboard", "bs4Dash", "plotly", "leaflet", "highcharter"))
##Recognize packages
library(tidyverse)
library(janitor)
library(readxl)
library(shiny)
library(flexdashboard)
library(shinydashboard)
library(bs4Dash)
library(plotly)
library(leaflet)
library(highcharter)
```

## 1. Load World Crocodile Species Dataset

```{r}
crocodile_species <- read.csv("crocodile_dataset.csv")
```

## 2. Dataset Overview: Glimpes of the Data, Column names and overall summary

```{r}
glimpse(crocodile_species)
```
```{r}
colnames(crocodile_species)
```
```{r}
summary(crocodile_species)
```
```{r}
head(crocodile_species)
```
## 3. Data Cleaning

### 3.1. Check if there are any NAs at all

```{r}
any(is.na(crocodile_species))
```

### 3.2. Replace all dots with underscores in column names and Check if all names has been chenged

```{r}
# Use==>> colnames(crocodile_species) <- gsub("\\.", "_", colnames(crocodile_species)) 

# OR use clean_names(): my favorite function because it replaces both . by _ and uppercase to undercase letters
crocodile_species <- crocodile_species %>% 
  clean_names()

# Check if all names has been changed accordingly
colnames(crocodile_species)

```

### 3.3. Change/Convert char columns into numeric columns 

```{r}
crocodile_species <- crocodile_species %>% 
  mutate(observed_length_m = as.numeric(observed_length_m), 
         observed_weight_kg = as.numeric(observed_weight_kg))
```

### 3.4. Change/Convert Date order from DD-MM-YYY to YYY-MM-DD standard

```{r}

#Convert Date
crocodile_species <- crocodile_species %>% 
  mutate( date_of_observation = as.Date(date_of_observation, format("%d-%m-%y")))

# Check the changes
head(crocodile_species)
```
## 4. Data Visualization

### 4.1. Categorical Distributions Analysis

#### 4.1.1. Most Observed Crocodile Species by Country of it's origin

```{r}
# ðŸ“¦Load necessary libraries for visualization
library(dplyr)
library(rnaturalearth)
library(rnaturalearthdata)
library(sf)
library(ggplot2)
library(stringr)

#Remove the word "crocodile" from common_name (case insensitive)
#Count how many times each species appears per country (n = n()).
#.groups = "drop" ungroups the result after summarizing.
#Regroup by country only to find the top species per country.
#slice_max(order_by = n, n = 1)
#Within each country, pick the species with the highest count (n).

top_species <- crocodile_species %>% 
  group_by(country_region, common_name) %>% 
  summarize(n = n(), .groups = "drop") %>% 
  group_by(country_region) %>% 
  slice_max(order_by = n, n = 1) %>% 
  mutate(common_name = str_replace_all(common_name, regex("crocodile", ignore_case = TRUE), "") %>% 
           str_trim())

## Load world map data
world <- ne_countries(scale = "medium", returnclass = "sf")

# Join top species data with world map
map_data <- left_join(world, top_species, by = c("name" = "country_region"))

# Plot the map
ggplot(map_data) +
  geom_sf(aes(fill = common_name), color = " white ") +
  labs(title = "Most Observed Crocodile Species by Country of Origin", fill = "") +
  theme_minimal() +
  theme(legend.position = "bottom")

```
### Libraries explanations
- dplyr: for data manipulation (grouping, summarizing, filtering).
- rnaturalearth & rnaturalearthdata: to load Natural Earth world map data.
- sf: for handling spatial (map) data using simple features.
- ggplot2: for plotting.
- stringr: for string/text manipulation (used to remove "crocodile" from common names).

### 4.1.2. Common Name distribution (top 10 species)

```{r}
library(ggplot2)
ggplot(top_species, aes(x = reorder(common_name, n), y = n)) +
  geom_col(fill = " darkcyan ", color = " black ") +
  coord_flip() +
  labs(title = "Top Most Observed Species", x = "Species", y = "Count") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```
## 4.1.3. Age Class Distribution

```{r}
ggplot(crocodile_species, aes(x = age_class)) +
  geom_bar(fill = " darkcyan ", color = " black ") +
  labs(title = "Age Class Distribution", x = "age class", y = "count") +
  theme_minimal()
```

## 4.1.4. Sex Distribution

```{r}
ggplot(crocodile_species, aes(x = sex)) +
  geom_bar(fill = " darkcyan ", color = " black ") +
  labs(title = "Sex Distribution", x = "sex", y = "count")
```

## 4.1.5. Habitat type distribution

```{r}
ggplot(crocodile_species, aes(x = habitat_type)) +
geom_bar(fill = " darkcyan ", color = " black ") +
labs(title = "Habitat Type Distribution", x = "habitat type", y = "count") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

## 4.1.6. Conservation status

```{r}
ggplot(crocodile_species, aes(x = conservation_status)) +
geom_bar(fill = " darkcyan ", color = " black ") +
labs(title = "Conservation Status", x = "conservation status", y = "count")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

## 5.2. Quantitative Distributions Analysis

### 5.2.1. Length distribution

```{r}
ggplot(crocodile_species, aes(x = observed_length_m)) +
geom_histogram(fill = " darkcyan ", bins = 20, color = " black ") +
labs(title = "Distribution of Length Observation (m)", x = "length observed (m)" , y = "frequency")
```

### 5.2.2. Weight distribution

```{r}
ggplot(crocodile_species, aes(x = observed_weight_kg)) +
geom_histogram(fill = " darkcyan ", bins = 20, color = " black ")+
labs(title = "Distribution of weight observed (kg)", x = "weight observed (kg)", y ="frequency")
```

### 5.2.3. Length vs Weight Analysis

```{r}
ggplot(crocodile_species, aes(x = observed_length_m, y = observed_weight_kg)) +
geom_point(alpha = 0.6, color = " darkcyan ") +
geom_smooth(method = "lm", se = FALSE, color = " red ") +
labs(title = "Observed Length vs Weight", x = "Length (m)", y = "Weight (kg)")
```

### 5.2.4. Crocodiles Weight by Age Class

```{r}
ggplot(crocodile_species, aes(x = reorder(age_class, observed_weight_kg, median), y = observed_weight_kg, fill = age_class)) +
geom_boxplot() +
labs(title = "Crocodile Weight By Age Class (Ascending Order)", x = "Age Class", y = "Weight (kg)") +
theme_minimal() +
theme(legend.position = "right")
```

### 5.2.4. Crocodile Length by sex

```{r}
ggplot(crocodile_species, aes(x = sex,y = observed_length_m, fill = sex)) +
geom_boxplot() +
labs(title = "Crocodile Length by Sex", x = "Sex", y = "Length (m)") +
theme_minimal() +
theme(legend.position = "none")
```

## 5.3. Temporal Analysis

### 5.3.1 Crocodile Species Observations over time

```{r}
ggplot(crocodile_species, aes(x = date_of_observation)) +
geom_histogram(fill = " darkcyan ", binwidth = 30, color = " black ") +
labs(title = "Number of Crocodile Observation Overtime", x = "date", y = "count")
```

### 5.3.2. Relationships Between Categorical Variables

```{r}
##sorts the habitats by total number of observations (highest to lowest)
ggplot(crocodile_species, aes(x = reorder(habitat_type, -table(habitat_type)[habitat_type]), fill = conservation_status)) +
geom_bar(position = "stack") +
labs(title = "Habitat Type vs Conservation Type", x = "habitat", y = "count") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

### 5.3.3. Crocodile Age Class vs Sex

```{r}
##orders from most frequent to least frequent.
ggplot(crocodile_species, aes(x = reorder(age_class, -table(age_class)[age_class]), fill = sex)) +                            
geom_bar(position = "dodge") +
labs(title = "Age Class vs Sex", x = "age class", y = "count")
```
## END






